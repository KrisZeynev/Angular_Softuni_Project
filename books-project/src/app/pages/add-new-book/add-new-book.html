<!-- <div class="form-container">
    <h1 class="form-title">Add New Book</h1>

    <form class="book-form" (ngSubmit)="onSubmit()" #bookForm="ngForm">
        <div class="form-grid">
            <label>
                <span class="label-text">Title</span>
                <input type="text" name="title" placeholder="Title*" [(ngModel)]="book.title" required
                    #title="ngModel" />
                <p class="error-msg" *ngIf="title.invalid && title.touched">Title is required</p>
            </label>

            <label>
                <span class="label-text">Description</span>
                <input type="text" name="description" placeholder="Description*" [(ngModel)]="book.description" required
                    #description="ngModel" />
                <p class="error-msg" *ngIf="description.invalid && description.touched">Description is required</p>
            </label>

            <label>
                <span class="label-text">Author</span>
                <input type="text" name="author" placeholder="Author*" [(ngModel)]="book.author" required
                    #author="ngModel" />
                <p class="error-msg" *ngIf="author.invalid && author.touched">Author is required</p>
            </label>

            <label class="label-text">Genre</label>
            <div *ngFor="let g of genresList">
                <label>
                    <input type="checkbox" [value]="g" (change)="onGenreChange($event)"
                        [checked]="book.genre.includes(g)" />
                    {{ g }}
                </label>
            </div>
            <p class="error-msg" *ngIf="book.genre.length === 0 && genreTouched">Genre is required</p>


            <label>
                <span class="label-text">Publication Year</span>
                <input type="number" name="publicationYear" placeholder="Publication year*"
                    [ngModel]="book.publicationYear" (ngModelChange)="book.publicationYear = $event ? +$event : 0"
                    required #publicationYear="ngModel" />
                <p class="error-msg" *ngIf="publicationYear.invalid && publicationYear.touched">Year is required</p>
            </label>

            <label>
                <span class="label-text">Number of Pages</span>
                <input type="number" name="pages" placeholder="Number of pages*" [ngModel]="book.pages"
                    (ngModelChange)="book.pages = $event ? +$event : 0" required #pages="ngModel" />
                <p class="error-msg" *ngIf="pages.invalid && pages.touched">Pages are required</p>
            </label>
        </div>

        <div class="form-grid">
            <label>
                <span class="label-text">ISBN</span>
                <input type="text" name="isbn" placeholder="ISBN*" [(ngModel)]="book.isbn" required #isbn="ngModel" />
                <p class="error-msg" *ngIf="isbn.invalid && isbn.touched">ISBN is required</p>
            </label>

            <label>
                <span class="label-text">Image</span>
                <input type="text" name="image" placeholder="http://..." [(ngModel)]="book.image" required
                    #image="ngModel" />
                <p class="error-msg" *ngIf="image.invalid && image.touched">Image URL is required</p>
            </label>
        </div>

        <div class="form-actions">
            <button type="submit" class="btn btn-add" [disabled]="bookForm.invalid">Add</button>
            <button type="button" class="btn btn-cancel">Cancel</button>
        </div>
    </form>
</div> -->

<div class="form-container">
    <h1 class="form-title">Add New Book</h1>

    <form [formGroup]="bookForm" (ngSubmit)="onSubmit()" class="book-form">
        <div class="form-grid">
            <label>
                <span class="label-text">Title</span>
                <input type="text" formControlName="title" placeholder="Title*" />
                <p class="error-msg" *ngIf="bookForm.get('title')?.invalid && bookForm.get('title')?.touched">
                    Title is required
                </p>
            </label>

            <label>
                <span class="label-text">Description</span>
                <input type="text" formControlName="description" placeholder="Description*" />
                <p class="error-msg"
                    *ngIf="bookForm.get('description')?.invalid && bookForm.get('description')?.touched">
                    Description is required
                </p>
            </label>

            <label>
                <span class="label-text">Author</span>
                <input type="text" formControlName="author" placeholder="Author*" />
                <p class="error-msg" *ngIf="bookForm.get('author')?.invalid && bookForm.get('author')?.touched">
                    Author is required
                </p>
            </label>

            <label>
                <span class="label-text">Genre</span>
                <select formControlName="genre">
                    <option value="">Select Genre</option>
                    <option *ngFor="let g of genresList" [value]="g">{{ g }}</option>
                </select>
                <p class="error-msg"
                    *ngIf="bookForm.get('genre')?.errors?.['required'] && bookForm.get('genre')?.touched">
                    Genre is required
                </p>
            </label>

            <label>
                <span class="label-text">Publication Year</span>
                <input type="number" formControlName="publicationYear" placeholder="Publication year*" />
                <p class="error-msg"
                    *ngIf="bookForm.get('publicationYear')?.invalid && bookForm.get('publicationYear')?.touched">
                    Please provide publication year not bigger than {{ currentYear }}
                </p>
            </label>

            <label>
                <span class="label-text">Number of Pages</span>
                <input type="number" formControlName="pages" placeholder="Number of pages*" />
                <p class="error-msg" *ngIf="bookForm.get('pages')?.invalid && bookForm.get('pages')?.touched">
                    Pages are required
                </p>
            </label>
        </div>

        <div class="form-grid">
            <label>
                <span class="label-text">ISBN</span>
                <input type="text" formControlName="isbn" placeholder="ISBN*" />
                <p class="error-msg" *ngIf="bookForm.get('isbn')?.invalid && bookForm.get('isbn')?.touched">
                    ISBN is required
                </p>
            </label>

            <label>
                <span class="label-text">Image</span>
                <input type="text" formControlName="image" placeholder="http://..." />
                <p class="error-msg" *ngIf="bookForm.get('image')?.invalid && bookForm.get('image')?.touched">
                    Image URL is required
                </p>
            </label>
        </div>

        <div class="form-actions">
            <button type="submit" class="btn btn-add" [disabled]="bookForm.invalid">Add</button>
            <button type="button" class="btn btn-cancel" (click)="bookForm.reset()">Cancel</button>
        </div>
    </form>
</div>